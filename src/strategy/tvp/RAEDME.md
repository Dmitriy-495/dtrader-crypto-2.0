# üéØ TVP Strategy (Tick-Volume-Pressure)

–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä—ë—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.

---

## üìä –¢—Ä–∏ —Å—Ç–æ–ª–ø–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### 1. **Tick Speed** (–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞)
- –ò–∑–º–µ—Ä—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ –º–∏–Ω—É—Ç—É
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä—ã–Ω–∫–∞: DEAD ‚Üí LOW ‚Üí NORMAL ‚Üí HIGH ‚Üí EXTREME
- **–†–æ–ª—å:** –§–∏–ª—å—Ç—Ä—É–µ—Ç –º—ë—Ä—Ç–≤—ã–µ –ø–µ—Ä–∏–æ–¥—ã

### 2. **Volume Confirmation** (–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä—ë–º–æ–º)
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –æ–±—ä—ë–º —Å–æ —Å—Ä–µ–¥–Ω–∏–º
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω—ã –∏ –æ–±—ä—ë–º–∞
- **–†–æ–ª—å:** –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è

### 3. **Order Book Pressure** (–î–∞–≤–ª–µ–Ω–∏–µ –≤ —Å—Ç–∞–∫–∞–Ω–µ)
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ bid/ask –æ–±—ä—ë–º–æ–≤
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç Order Book Imbalance (OBI)
- **–†–æ–ª—å:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–≤–ª–µ–Ω–∏—è

---

## ‚öôÔ∏è –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### üõ°Ô∏è Conservative (–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π)
```json
{
  "minConfirmations": 3,
  "requireVolumeConfirmation": true,
  "requireStrongSignals": true
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –í—Å–µ 3 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –¥–æ–ª–∂–Ω—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å
- ‚úÖ –¢–æ–ª—å–∫–æ STRONG_BUY / STRONG_SELL —Å–∏–≥–Ω–∞–ª—ã
- ‚úÖ –ú–∏–Ω–∏–º—É–º –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚ùå –ú–µ–Ω—å—à–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ë–æ–∫–æ–≤–æ–π —Ä—ã–Ω–æ–∫, –≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å.

---

### ‚öñÔ∏è Normal (–ù–æ—Ä–º–∞–ª—å–Ω—ã–π) - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
```json
{
  "minConfirmations": 2,
  "requireVolumeConfirmation": true,
  "requireStrongSignals": false
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ú–∏–Ω–∏–º—É–º 2 –∏–∑ 3 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç BUY/SELL (–Ω–µ —Ç–æ–ª—å–∫–æ STRONG)
- ‚öñÔ∏è –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å—é –∏ —á–∞—Å—Ç–æ—Ç–æ–π
- ‚öñÔ∏è –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–∏—Ç—É–∞—Ü–∏–π

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –û–±—ã—á–Ω—ã–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è, —Ç—Ä–µ–Ω–¥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è.

---

### üöÄ Aggressive (–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π)
```json
{
  "minConfirmations": 1,
  "requireVolumeConfirmation": false,
  "requireStrongSignals": false
}
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ 1 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
- ‚úÖ –ë–æ–ª—å—à–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
- ‚ùå –ë–æ–ª—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚ùå –í—ã—à–µ —Ä–∏—Å–∫

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –°–∏–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã, –≤—ã—Å–æ–∫–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, —Å–∫–∞–ª—å–ø–∏–Ω–≥.

---

## üé≤ –ü—Ä–∏–º–µ—Ä—ã —Å–∏–≥–Ω–∞–ª–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: BUY –≤ —Ä–µ–∂–∏–º–µ NORMAL

**–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:**
```
Volume Confirmation:  STRONG_BUY (volumeRatio: 2.3x)  ‚úÖ
Order Book Pressure:  BUY (imbalance: 0.15)          ‚úÖ
Tick Speed:           NORMAL (125 t/min)             ‚úÖ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 3/3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Üí **–°–ò–õ–¨–ù–´–ô –°–ò–ì–ù–ê–õ BUY** üü¢üü¢

---

### –ü—Ä–∏–º–µ—Ä 2: SELL –≤ —Ä–µ–∂–∏–º–µ NORMAL

**–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:**
```
Volume Confirmation:  SELL (volumeRatio: 1.6x)       ‚úÖ
Order Book Pressure:  STRONG_SELL (imbalance: -0.35) ‚úÖ
Tick Speed:           HIGH (280 t/min)               ‚ö™ (–Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 2/3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Üí **–°–ò–ì–ù–ê–õ SELL** üî¥

---

### –ü—Ä–∏–º–µ—Ä 3: –ù–ï–¢ –°–ò–ì–ù–ê–õ–ê

**–°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:**
```
Volume Confirmation:  NO_VOLUME (volumeRatio: 0.8x)  ‚ùå
Order Book Pressure:  NEUTRAL (imbalance: 0.05)     ‚ùå
Tick Speed:           DEAD (15 t/min)               ‚ùå
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 0/3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Üí **–ù–ï–¢ –°–ò–ì–ù–ê–õ–ê** ‚ö™

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `settings.json`.

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```json
{
  "strategy": {
    "mode": "normal"  // conservative | normal | aggressive
  }
}
```

### –ü–æ—Ä–æ–≥–∏ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤:

```json
{
  "rules": {
    "normal": {
      "minVolumeRatio": 1.5,        // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä—ë–º (1.5x –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ)
      "minPressureImbalance": 0.1   // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–∏—Å–±–∞–ª–∞–Ω—Å —Å—Ç–∞–∫–∞–Ω–∞
    }
  }
}
```

### –§–∏–ª—å—Ç—Ä—ã:

```json
{
  "filters": {
    "ignoreDeadMarket": true,         // –ù–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –Ω–∞ –º—ë—Ä—Ç–≤–æ–º —Ä—ã–Ω–∫–µ
    "ignoreNoVolume": true,           // –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è –±–µ–∑ –æ–±—ä—ë–º–∞
    "ignoreExtremeVolatility": false, // –¢–æ—Ä–≥–æ–≤–∞—Ç—å –Ω–∞ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
    "minTicksBeforeSignal": 100       // –ú–∏–Ω–∏–º—É–º —Ç–∏–∫–æ–≤ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º —Å–∏–≥–Ω–∞–ª–æ–º
  }
}
```

---

## üìà –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ DTrader

```typescript
import { TVPStrategy } from './strategy/tvp/TVPStrategy';

// –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
const strategy = new TVPStrategy();

// –ó–∞–ø—É—Å–∫
strategy.onStart();

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (–∏–∑ DTrader)
strategy.onTick(tick);
strategy.updateOrderBookPressure(pressureResult);

// –ê–Ω–∞–ª–∏–∑ —Å–≤–µ—á–∏
const signal = strategy.onCandle(candle, history);

if (signal && signal.type !== SignalType.HOLD) {
  console.log(`–°–∏–≥–Ω–∞–ª: ${signal.type}`);
  // –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ—Ä–≥–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
}

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞
strategy.setMode('aggressive');

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
const stats = strategy.getStats();
console.log(`–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Ç–∏–∫–æ–≤: ${stats.tickCount}`);
console.log(`–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å–∏–≥–Ω–∞–ª–æ–≤: ${stats.signalCount}`);
```

---

## üìä –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∑–∂–µ.

---

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

–≠—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ **—Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π**. 

- ‚ùå –ù–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π
- ‚ùå –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∏–±—ã–ª—å
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Ä–∏—Å–∫
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –¥–µ–º–æ-—Å—á—ë—Ç–µ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ–π

---

## üìù Changelog

### v1.0.0
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ TVP
- ‚úÖ –¢—Ä–∏ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã (conservative, normal, aggressive)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ settings.json
# dtrader-crypto-2.0 - –¢–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç –¥–ª—è Gate.io

–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–π –±–∏—Ä–∂–∏ Gate.io.

**–°—Ç–µ–∫:** NodeJS + TypeScript

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:

### 1. –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (—ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)

–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º VPS –≤ —Ä–µ–∂–∏–º–µ –¥–µ–º–æ–Ω–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∏—Ä–∂–µ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º REST API & WebSocket
- –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –±–∞–ª–∞–Ω—Å–æ–≤
- –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö, —Ä–∞—Å—á–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞–º —á–µ—Ä–µ–∑ WebSocket

### 2. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å

–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö —Å `terminal-kit`:

- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º –ø–æ REST API & WebSocket
- –ü—Ä–∏–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–º

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏ API –∫–ª—é—á–∏ Gate.io:

```env
GATE_API_KEY=your_api_key_here
GATE_API_SECRET=your_api_secret_here
```

–ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏: https://www.gate.io/myaccount/apiv4keys

### 3. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

**‚ú® –° nodemon:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤!

- –†–µ–¥–∞–∫—Ç–∏—Ä—É–π –∫–æ–¥ ‚Üí nodemon –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –î–ª—è —Ä—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞–±–µ—Ä–∏ `rs` –∏ –Ω–∞–∂–º–∏ Enter

### 4. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

```bash
npm run build
npm start
```

### 5. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ PM2 (–Ω–∞ VPS)

```bash
npm run pm2:start    # –ó–∞–ø—É—Å–∫
npm run pm2:stop     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
npm run pm2:restart  # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
npm run pm2:logs     # –õ–æ–≥–∏
npm run pm2:status   # –°—Ç–∞—Ç—É—Å
npm run pm2:monit    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```

---

## üìä –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### 1. ‚ö° Tick Speed

–ò–∑–º–µ—Ä—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫ –≤ –º–∏–Ω—É—Ç—É).

### 2. üìä Volume Confirmation

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω—ã —Ä–æ—Å—Ç–æ–º –æ–±—ä—ë–º–∞.

### 3. üìñ Order Book Pressure

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–≤–ª–µ–Ω–∏–µ –≤ —Å—Ç–∞–∫–∞–Ω–µ (bid/ask —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ).

---

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è TVP

**TVP (Tick-Volume-Pressure)** - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä—ë—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤.

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

| –†–µ–∂–∏–º        | –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π | –†–∏—Å–∫    | –°–∏–≥–Ω–∞–ª–æ–≤ |
| ------------ | ------------- | ------- | -------- |
| Conservative | 3/3           | –ù–∏–∑–∫–∏–π  | –ú–∞–ª–æ     |
| Normal       | 2/3           | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω–µ   |
| Aggressive   | 1/3           | –í—ã—Å–æ–∫–∏–π | –ú–Ω–æ–≥–æ    |

–ù–∞—Å—Ç—Ä–æ–π–∫–∏: `src/strategy/tvp/settings.json`

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `src/strategy/tvp/README.md`

---

## üì° WebSocket API

–°–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç WebSocket API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–æ—Ä—Ç—É `8080` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞–Ω–∞–ª—ã:

- `system` - –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- `logs` - –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
- `ticks` - –¢–∏–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- `indicators` - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (tick_speed, volume_confirmation, orderbook_pressure)
- `balance` - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `CLIENT_API.md`

---

## üîß –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev          # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π (nodemon)
npm run build        # –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript
npm run watch        # –ö–æ–º–ø–∏–ª—è—Ü–∏—è –≤ —Ä–µ–∂–∏–º–µ watch
npm start            # –ó–∞–ø—É—Å–∫ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
```

### Nodemon –∫–æ–º–∞–Ω–¥—ã:

–í–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã `npm run dev`:

- `rs` + Enter - —Ä—É—á–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
- `Ctrl+C` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
  index.ts              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
  DTrader.ts            # –î–≤–∏–∂–æ–∫
  GateIO.ts             # –†–∞–±–æ—Ç–∞ —Å Gate.io API
  types.ts              # –¢–∏–ø—ã TypeScript

  core/
    BroadcastManager.ts # WebSocket —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
    Logger.ts           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–µ–π
    OrderBookManager.ts # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Order Book

  indicators/
    TickSpeedIndicator.ts           # –°–∫–æ—Ä–æ—Å—Ç—å —Ç–∏–∫–æ–≤
    VolumeConfirmationIndicator.ts  # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä—ë–º–æ–º
    OrderBookPressureIndicator.ts   # –î–∞–≤–ª–µ–Ω–∏–µ –≤ —Å—Ç–∞–∫–∞–Ω–µ

  strategy/
    BaseStrategy.ts     # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
    tvp/
      TVPStrategy.ts    # –°—Ç—Ä–∞—Ç–µ–≥–∏—è TVP
      settings.json     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
      README.md         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è TVP
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):

```env
# API –∫–ª—é—á–∏ Gate.io
GATE_API_KEY=your_api_key
GATE_API_SECRET=your_api_secret

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
GATE_API_URL=https://api.gateio.ws
GATE_WS_URL=wss://api.gateio.ws/ws/v4/

# –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã
PING_INTERVAL=15

# Order Book
ORDER_BOOK_SYMBOL=ETH_USDT
ORDER_BOOK_DEPTH=20

# –¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è –ª–æ–≥–æ–≤
LOG_BROADCAST_ENABLED=true
LOG_BROADCAST_PORT=8080

# –†–µ–∂–∏–º (production/testnet)
MODE=production
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç WebSocket —Å–µ—Ä–≤–µ—Ä–∞:

```bash
wscat -c ws://localhost:8080
```

–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:

```json
{ "type": "subscribe", "channels": ["indicators"], "timestamp": 1234567890 }
```

### –¢–µ—Å—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

```bash
node test-tvp-live.js
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `CLIENT_API.md` - WebSocket API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- `src/strategy/tvp/README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ TVP

---

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω **—Ç–æ–ª—å–∫–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π**.

- ‚ùå –ù–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–µ–π
- ‚ùå –ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∏–±—ã–ª—å
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –¥–µ–º–æ-—Å—á—ë—Ç–µ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ–π

---

## üìù Changelog

### v1.0.0

- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Gate.io (REST & WebSocket)
- ‚úÖ –¢—Ä–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ (TickSpeed, VolumeConfirmation, OrderBookPressure)
- ‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è TVP —Å —Ç—Ä–µ–º—è —Ä–µ–∂–∏–º–∞–º–∏
- ‚úÖ WebSocket API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤ dev —Ä–µ–∂–∏–º–µ (nodemon)

---

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

**–°—Ç–µ–∫:**

- Node.js 20+
- TypeScript 5.3+
- WebSocket (ws)
- Axios
- PM2 (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- Nodemon (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
